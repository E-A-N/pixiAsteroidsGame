<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: gameObjects/playerObject/playerShipControls.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: gameObjects/playerObject/playerShipControls.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>
//Be sure to only define keys once, otherwise memory leak will occur!
var k = {};
k.upInput = keyboard(38);
k.downInput = keyboard(40);
k.leftInput = keyboard(37);
k.rightInput = keyboard(39);
k.fInput = keyboard(70);


/**  This utility function setups the player controls for the space ship
*    @param {object} ship - reference to game ship
*    @returnss TODO: find a testable return value to work with here
*/
var playerControls = function(ship){

    var thrusting = k.upInput.isDown;
    var turningLeft =  k.leftInput.isDown &amp;&amp; !k.rightInput.isDown;
    var turningRight =  k.rightInput.isDown &amp;&amp; !k.leftInput.isDown;
    var okToShoot = k.fInput.isDown &amp;&amp; ship.canShoot;

    if (okToShoot){
        ship.fireBullet()
        ship.canShoot = false;
        ship.coolDown = true;
    }
    if(thrusting){
        if (ship.texture.textureCacheIds[0] === "ship1.png"){
            ship.texture = ship.textureThrust
        }
        ship.vx += Math.cos(ship.rotation) * ship.acceleration;
        ship.vy += Math.sin(ship.rotation) * ship.acceleration;
    }
    else {
        ship.vx *= ship.friction;
        ship.vy *= ship.friction;
        if (ship.texture.textureCacheIds[0] === "ship2.png"){
            ship.texture = ship.textureIdle
        }
    }
    if (turningRight) {
        ship.rotation += ship.turnSpd;
    }
    if (turningLeft) {
        ship.rotation -= ship.turnSpd;
    }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="gameObject.html">gameObject</a></li><li><a href="spriteHandler.html">spriteHandler</a></li></ul><h3>Global</h3><ul><li><a href="global.html#addAnimatedSprite">addAnimatedSprite</a></li><li><a href="global.html#addSprite">addSprite</a></li><li><a href="global.html#asteroidRock">asteroidRock</a></li><li><a href="global.html#createPhase">createPhase</a></li><li><a href="global.html#keyboard">keyboard</a></li><li><a href="global.html#playerBullet">playerBullet</a></li><li><a href="global.html#playerControls">playerControls</a></li><li><a href="global.html#playerShip">playerShip</a></li><li><a href="global.html#preload">preload</a></li><li><a href="global.html#stateController">stateController</a></li><li><a href="global.html#update">update</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Tue Nov 07 2017 23:02:51 GMT-0800 (PST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
